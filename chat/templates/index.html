<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>websocket</title>
</head>
<body>
    <p id="demo">
        æˆ‘æ“¦
    </p>
    <div>
        æˆ‘çˆ±ğŸ‡¨ğŸ‡³
    </div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
    // å‰ç«¯è¯·æ±‚
    var chat = io.connect('http://' + document.domain + ':' + location.port);	// é€šè¿‡æŒ‡å®šçš„ipå’Œportè¿æ¥åç«¯
    chat.on('connect', function(data) {
        chat.emit('message',{msg: '{{roomid}}'},function(){		//è¿æ¥å»ºç«‹ä¹‹åï¼Œå‘åç«¯å‘é€æ ‡è¯†ç¬¦
            room = io.connect('http://' + document.domain + ':' + location.posrt + '/{{roomid}}');	//åç«¯ç”Ÿæˆå¯¹åº”çš„roomï¼Œå¹¶æä¾›è¿æ¥
            room.on('liaoxian',function(data){					//ç›‘å¬åç«¯çš„äº‹ä»¶
                msgPanel.append('<p>'+data+'</p><br>')
            });
            });
    });
</script>
<button type="button">ç‚¹å‡»è¿™é‡Œ</button>
</body>
</html>
